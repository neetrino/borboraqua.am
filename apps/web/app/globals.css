@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base resets & typography driven by Tailwind utilities */
@layer base {

  html {
    @apply overflow-y-auto;
  }

  html,
  body {
    @apply bg-white text-gray-900 max-w-full overflow-x-hidden;
  }

  body {
    @apply m-0 p-0;
  }

  /* Prevent text selection and caret on all text elements */


  /* Allow selection in input and textarea fields */
  input,
  textarea {
    @apply select-text caret-[currentColor];
  }

  /* Ensure caret is visible and blinking in focused inputs */
  input:focus,
  textarea:focus {
    @apply caret-[currentColor];
  }

  /* Links should be selectable but no caret */
  a {
    @apply select-none;
  }
}

@layer utilities {
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  @keyframes figma-float {

    0%,
    100% {
      transform: translateY(0) translateX(0);
    }

    25% {
      transform: translateY(-20px) translateX(10px);
    }

    50% {
      transform: translateY(-10px) translateX(-5px);
    }

    75% {
      transform: translateY(-25px) translateX(5px);
    }
  }

  /* More active float for main hero sphere */
  @keyframes figma-float-active {
    0%,
    100% {
      transform: translateY(0) translateX(0);
    }
    25% {
      transform: translateY(-35px) translateX(18px);
    }
    50% {
      transform: translateY(-18px) translateX(-12px);
    }
    75% {
      transform: translateY(-42px) translateX(8px);
    }
  }

  @keyframes figma-pulse {

    0%,
    100% {
      opacity: 1;
      transform: scale(1);
    }

    50% {
      opacity: 0.9;
      transform: scale(1.05);
    }
  }

  @keyframes figma-fade-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }

    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes figma-slide-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .figma-float {
    animation: figma-float 8s ease-in-out infinite;
  }

  .figma-float-active {
    animation: figma-float-active 6s ease-in-out infinite;
  }

  /* Out-of-sync active float for all bubbles */
  .figma-float-active-0 { animation: figma-float-active 6s ease-in-out 0s infinite; }
  .figma-float-active-1 { animation: figma-float-active 6s ease-in-out 0.8s infinite; }
  .figma-float-active-2 { animation: figma-float-active 6s ease-in-out 1.6s infinite; }
  .figma-float-active-3 { animation: figma-float-active 6s ease-in-out 2.4s infinite; }
  .figma-float-active-4 { animation: figma-float-active 6s ease-in-out 3.2s infinite; }
  .figma-float-active-5 { animation: figma-float-active 6s ease-in-out 4s infinite; }
  .figma-float-active-6 { animation: figma-float-active 6s ease-in-out 4.8s infinite; }
  .figma-float-active-7 { animation: figma-float-active 6s ease-in-out 1.2s infinite; }
  .figma-float-active-8 { animation: figma-float-active 6s ease-in-out 2.8s infinite; }
  .figma-float-active-9 { animation: figma-float-active 6s ease-in-out 5.2s infinite; }

  .figma-pulse {
    animation: figma-pulse 3s ease-in-out infinite;
  }

  .figma-fade-in {
    animation: figma-fade-in 1s ease-out forwards;
  }

  .figma-slide-up {
    animation: figma-slide-up 0.8s ease-out forwards;
  }

  /* Global app background for non-home pages (Figma products page style) */
  .app-page-background {
    /* Stronger, more visible blue gradient so it doesn't look plain white */
    background-image:
      radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0) 55%),
      linear-gradient(
        104.07deg,
        #f8fcff 0%,
        #d4ecff 35%,
        #9ff4ff 60%,
        #9fe7ff 80%
      );
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: cover;
  }

  @keyframes rotate-360 {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(360deg);
    }
  }

  .product-card-hover {
    transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
  }

  .product-card-hover:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(0, 209, 255, 0.2);
  }

  /* Compact cards (shop page & related products) - card should NOT move on hover */
  .product-card-compact {
    transition: box-shadow 0.3s ease-out, border-color 0.3s ease-out;
    border: 1px solid rgba(0, 209, 255, 0.3);
    overflow: visible;
    position: relative;
    z-index: 1;
  }

  /* Override product-card-hover transform for compact cards - card stays still */
  .product-card-compact.product-card-hover:hover,
  .product-card-hover.product-card-compact:hover {
    transform: none !important;
    box-shadow: 0 20px 40px rgba(0, 209, 255, 0.2);
    border-color: rgba(0, 209, 255, 0.5);
  }

  .product-card-hover-centered {
    transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
  }

  .product-card-hover-centered:hover {
    transform: translate(-50%, -10px);
    box-shadow: 0 20px 40px rgba(0, 209, 255, 0.2);
  }

  /* Glassmorphism effect for product cards */
  .product-card-glass {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(0, 209, 255, 0.3);
    border-radius: 3rem;
    transition: all 0.3s ease-out;
  }

  .product-card-glass:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(0, 209, 255, 0.5);
    box-shadow: 0 8px 32px rgba(0, 209, 255, 0.15);
  }

  /* Image container - allows overflow on hover for home page */
  .product-image-container {
    overflow: hidden;
    transition: overflow 0.3s ease-out, padding 0.3s ease-out;
  }

  .product-card-hover:hover .product-image-container {
    overflow: visible;
  }

  /* Home page: image can extend beyond card, bottle "standing" effect */
  .product-image-container-home {
    overflow: visible;
  }

  /* Bottle: same size, slightly lowered; hover = only image ~1.6x scale (20% less than 2x) */
  .product-image-bottle-standing {
    filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.25)) drop-shadow(0 2px 6px rgba(0, 0, 0, 0.15));
    transform: scale(1.35) translateY(58px);
    transform-origin: center bottom;
    transition: transform 0.4s ease-out, filter 0.3s ease-out;
    position: relative;
    z-index: 1;
  }

  .product-card-hover:hover .product-image-bottle-standing {
    transform: scale(2.0) translateY(38px);
    filter: drop-shadow(0 12px 24px rgba(0, 0, 0, 0.3)) drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
    z-index: 10;
  }

  /* Compact cards (shop page & related products) - allow overflow so image can go over border */
  .product-card-compact:hover .product-image-container {
    overflow: visible;
    padding: 8px;
  }

  .product-image-hover {
    transition: transform 0.4s ease-out;
    transform-origin: center bottom;
  }

  /* Home page - full transform effect */
  .product-card-hover:hover .product-image-hover {
    transform: rotate(5deg) scale(1.15) translateY(-20px);
    z-index: 10;
    position: relative;
  }

  .product-card-hover-centered:hover .product-image-hover {
    transform: rotate(5deg) scale(1.15) translateY(-20px);
    z-index: 10;
    position: relative;
  }

  /* Compact cards (shop page & related products) - only image moves, card stays still */
  /* Image scales up and moves up to sit on top of border */
  .product-card-compact:hover .product-image-hover {
    transform: scale(1.15) translateY(-12px);
    z-index: 100;
    position: relative;
  }

  /* Ensure related products carousel doesn't clip hovered images */
  .product-card-compact:hover {
    z-index: 50;
    position: relative;
    overflow: visible !important;
  }

  /* Allow overflow in carousel containers when card is hovered */
  .relative:has(.product-card-compact:hover) {
    overflow: visible !important;
  }

  /* Ensure flex container in carousel allows overflow */
  .flex.items-stretch:has(.product-card-compact:hover) {
    overflow: visible;
  }

  /* Ensure grid containers allow overflow when card is hovered (shop page) */
  .grid:has(.product-card-compact:hover) {
    overflow: visible !important;
  }

  /* Ensure grid items allow overflow */
  .grid > *:has(.product-card-compact:hover) {
    overflow: visible !important;
  }

  /* Ensure common parent containers allow overflow (max-w containers, etc.) */
  .max-w-7xl:has(.product-card-compact:hover),
  .max-w-full:has(.product-card-compact:hover),
  .w-full:has(.product-card-compact:hover) {
    overflow: visible !important;
  }
}

/* Policy pages typography & spacing, expressed with Tailwind utilities */
@layer components {
  .policy-page {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .policy-page-inner {
    @apply pt-12 pb-16 md:pt-16;
  }

  .policy-page-inner h1,
  .policy-page-inner h2,
  .policy-page-inner h3 {
    @apply mt-10 mb-4;
  }

  .policy-page-inner h1:first-of-type {
    margin-top: 0;
  }

  .policy-page-inner h2:first-of-type,
  .policy-page-inner h3:first-of-type {
    margin-top: 1.75rem;
  }

  .policy-page-inner p {
    @apply mt-3 mb-0 leading-relaxed;
  }

  .policy-page-inner ul,
  .policy-page-inner ol {
    @apply mt-3 mb-0 pl-5;
  }

  .policy-page-inner li+li {
    margin-top: 0.25rem;
  }


  .home-page-wrapper {
    @apply w-full relative overflow-x-hidden;
  }

  /* Breadcrumb bar background – reuse same palette as app-page-background */
  .breadcrumb-background {
    background-image: linear-gradient(
      104.07deg,
      #f8fcff 0%,
      #d4f3ff 35%,
      #c4f8ff 60%,
      #9fe7ff 80%
    );
  }
}

/* imgShape.svg — forced color #5bb7d9 */
img[src*="imgShape"] {
  filter: brightness(0) saturate(100%) invert(65%) sepia(42%) saturate(1400%) hue-rotate(170deg) brightness(0.92) contrast(1.04);
  animation: rotate-360 30s linear infinite;
}

img[src*="imgShape1"] {
  filter: brightness(1) saturate(100%) invert(81%) sepia(55%) saturate(800%) hue-rotate(165deg) brightness(1.15) contrast(1.05);
  animation: rotate-360 30s linear infinite;
}

img[src*="imgShape2"] {
  filter: brightness(1.2) saturate(100%) invert(81%) sepia(85%) saturate(800%) hue-rotate(167deg) brightness(1.28) contrast(1.05);
  animation: rotate-360 30s linear infinite;
}

img[src*="imgShape3"] {
  filter: brightness(0) saturate(100%) invert(91%) sepia(35%) saturate(800%) hue-rotate(165deg) brightness(1.15) contrast(1.15);
  animation: rotate-360 30s linear infinite;
}